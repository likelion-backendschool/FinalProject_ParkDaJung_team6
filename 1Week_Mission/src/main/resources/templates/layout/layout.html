
<!doctype html>
<html
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        xmlns:th="http://www.thymeleaf.org"
        lang="ko"
>
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0/css/bootstrap.min.css">
    <!-- sbb CSS -->
    <link rel="stylesheet" type="text/css" th:href="@{/style.css}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.0/js/bootstrap.min.js"></script>
    <title>Hello, sbb!</title>
    <!--    제이쿼리 불러오기-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- toastr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
</head>
<body style="min-height:100vh;" class="d-flex flex-column">

<!-- 네비게이션바 -->
<header th:replace="layout/navbar :: navbarFragment"></header>

<!-- 기본 템플릿 안에 삽입될 내용 Start -->
<main class="flex-grow-1">
    <th:block layout:fragment="main"></th:block>
</main>
<!-- 기본 템플릿 안에 삽입될 내용 End -->
<footer class="bg-light text-dark">
    <div class="container py-3 d-flex justify-content-center">
        Copyright all rights reserved
    </div>
</footer>
<!-- 자바스크립트 Start -->
<th:block layout:fragment="script"></th:block>
<!-- 자바스크립트 End -->
<!-- HTML이 전부 로딩 된 후, 실행되어야 하는 녀석(자바스크립트 코드)들은 밑에 두는게 좋다. -->
<script>
    $("select[value]").each((index, node) => {
        const $select = $(node);
        const value = $select.attr("value");
        $select.find(`option[value="${value}"]`).prop("selected", true);
    });
</script>

<script src="/resource/common/common.js"></script>

<script th:inline="javascript">
    const msg = /*[[ ${msg} ]]*/ null;
    const errorMsg = /*[[ ${errorMsg} ]]*/ null;
    const successMsg = /*[[ ${successMsg} ]]*/ null;
    // const params = /*[[ ${param} ]]*/ null;

    // if (params.successMsg) {
    //     successModal(params.successMsg);
    // }
    if (successMsg) {
        successModal(successMsg);
    }
    if (msg) {
        successModal(msg);
    }

    // if (params.errorMsg) {
    //     errorModal(params.errorMsg);
    // }
    if (errorMsg) {
        errorModal(errorMsg);
    }
</script>
</body>
</html>
